(function(){var b=function(a,b,d,f,c,g){a.view={};a.view.activity={};a.view.activity.image="";a.view.activity.name="";a.view.activity.description="";a.view.activity.type="production";a.view.activity.oficial=!1;a.publish=function(a){f.get("FICOnCookie")?d({url:b.config.apiUrl+"/api/event/"+b.config.eventId+"/activity/",method:"POST",data:{name:a.name,imageurl:a.image,description:a.description,numParticipants:500,oficial:a.oficial,type:a.type},headers:{sessionId:f.get("FICOnCookie").sessionId}}).success(function(a,
c,b,e){g.path("/home")}).error(function(a,c,b,g){console.log("Actividad  no creada")}):console.log("Error activityaddCtrl.publish(): No hay cookie.")};a.ctr=function(){};a.ctr()};b.$inject="$scope $rootScope $http $cookieStore $log $location".split(" ");angular.module("FICOnWeb").controller("activityaddCtrl",b)})();(function(){var b=function(a,b,d,f){a.view={};a.data={};a.currentPage=1;a.pagination=5;a.size=0;a.orderBy="event";a.desc=1;a.changeFilter=function(c){a.orderBy==c?a.desc=1==a.desc?0:1:(a.desc=1,a.orderBy=c);a.getActivities()};a.isNext=function(){return a.currentPage*a.pagination<a.size&&0<a.pagination};a.getPrev=function(){--a.currentPage;a.getActivities()};a.getNext=function(){a.currentPage+=1;a.getActivities()};a.getPages=function(c){a.pagination=c;a.currentPage=1;a.getActivities()};a.getSize=function(){d.get("FICOnCookie")?
f({url:b.config.apiUrl+"/api/event/"+b.config.eventId+"/activityTAM/all",method:"GET",headers:{sessionId:d.get("FICOnCookie").sessionId}}).success(function(c,b,k,h){a.size=c}).error(function(a,b,k,h){console.log("error get")}):console.log("error")};a.deleteActivity=function(c){d.get("FICOnCookie")?f({url:b.config.apiUrl+"/api/activity/"+c,method:"DELETE",headers:{sessionId:d.get("FICOnCookie").sessionId}}).success(function(c,b,h,e){a.getActivities()}).error(function(a,c,b,e){console.log("error delete")}):
console.log("error")};a.getActivities=function(){d.get("FICOnCookie")?f({url:b.config.apiUrl+"/api/event/"+b.config.eventId+"/activityHeaders/query?page="+a.currentPage+"&pageTam="+a.pagination+"&orderBy="+a.orderBy+"&desc="+a.desc,method:"GET",headers:{sessionId:d.get("FICOnCookie").sessionId}}).success(function(c,b,e,h){a.data=c}).error(function(a,b,e,h){console.log("error get")}):console.log("error")};a.ctr=function(){a.getSize();a.getActivities()};a.ctr()};b.$inject=["$scope","$rootScope","$cookieStore",
"$http"];angular.module("FICOnWeb").controller("activityCtrl",b)})();(function(){var b=function(a,b,d,f){a.view={};a.data={};a.currentPage=1;a.pagination=5;a.size=0;a.orderBy="publishDate";a.desc=1;a.changeDate=function(a){return moment(a,"DD-MM-YYYY/HH:mm:ss").format("DD-MM-YYYY HH:mm:ss")};a.changeFilter=function(c){a.orderBy==c?a.desc=1==a.desc?0:1:(a.desc=1,a.orderBy=c);a.getNews()};a.isNext=function(){return a.currentPage*a.pagination<a.size&&0<a.pagination};a.getPrev=function(){--a.currentPage;a.getNews()};a.getNext=function(){a.currentPage+=1;a.getNews()};a.getPages=
function(c){a.pagination=c;a.currentPage=1;a.getNews()};a.getSize=function(){b.get("FICOnCookie")?d({url:f.config.apiUrl+"/api/event/news/all/size/"+f.config.eventId,method:"GET",headers:{sessionId:b.get("FICOnCookie").sessionId}}).success(function(c,b,e,h){a.size=c}).error(function(a,b,e,h){console.log("error get")}):console.log("error")};a.deleteNews=function(c){b.get("FICOnCookie")?d({url:f.config.apiUrl+"/api/news/"+c,method:"DELETE",headers:{sessionId:b.get("FICOnCookie").sessionId}}).success(function(c,
b,h,e){a.getNews()}).error(function(a,c,b,e){console.log("error delete")}):console.log("error")};a.getNews=function(){d({url:f.config.apiUrl+"/api/event/"+f.config.eventId+"/news/query?page="+a.currentPage+"&pageTam="+a.pagination+"&orderBy="+a.orderBy+"&desc="+a.desc,method:"GET",headers:{sessionId:f.getSessionId()}}).success(function(c,b,e,h){a.data=c}).error(function(a,b,e,h){console.log("Error getNews() "+b+": "+a)})};a.ctr=function(){a.getSize();a.getNews()};a.ctr()};b.$inject=["$scope","$cookieStore",
"$http","$rootScope"];angular.module("FICOnWeb").controller("adminNewsCtrl",b)})();(function(){var b=function(a,b,d){a.view={};a.view.templates={};a.send=function(d){var c={},g;switch(d){case "confirmed":c.asunto=a.view.templates.subjectSpotConfirmed;c.contenido=a.view.templates.contentSpotConfirmed;g=a.view.templates.idSpotConfirmed;break;case "pendingDirect":c.asunto=a.view.templates.subjectPendingConfirmationDirect;c.contenido=a.view.templates.contentPendingConfirmationDirect;g=a.view.templates.idPendingConfirmationDirect;break;case "queue":c.asunto=a.view.templates.subjectOnQueue;
c.contenido=a.view.templates.contentOnQueue;g=a.view.templates.idOnQueue;break;case "pendingFromQueue":c.asunto=a.view.templates.subjectPendingConfirmationFromQueue;c.contenido=a.view.templates.contentPendingConfirmationFromQueue;g=a.view.templates.idPendingConfirmationFromQueue;break;case "expired":c.asunto=a.view.templates.subjectConfirmationPeriodExpired,c.contenido=a.view.templates.contentConfirmationPeriodExpired,g=a.view.templates.idConfirmationPeriodExpired}b.postUri("/api/emailTemplate/"+
g,c,function(a){},void 0,"PUT")};a.ctr=function(){b.getUri("/api/event/{eventId}/getEmailTemplates",function(b){a.view.templates=b})};a.ctr()};b.$inject=["$scope","$rootScope","$log"];angular.module("FICOnWeb").controller("editorEmailTemplatesCtrl",b)})();(function(){var b=function(a,b,d,f,c,g,k){a.view={};a.view.event={};a.view.event.name="";a.view.event.description="";a.view.event.normas="";a.view.event.registrationOpenDate;a.view.event.registrationCloseDate;a.view.registrationOpenDate;a.view.registrationCloseDate;a.changeDate=function(a){return moment(a).format("DD-MM-YYYY/HH:mm:ss")};a.update=function(){a.view.registrationOpenDate||(a.view.registrationOpenDate=new Date);a.view.registrationCloseDate||(a.view.registrationCloseDate=new Date)};a.openInscriptionStart=
function(c){c.preventDefault();c.stopPropagation();a.openedInscriptionStart=!0};a.openInscriptionEnd=function(c){c.preventDefault();c.stopPropagation();a.openedInscriptionClose=!0};a.open=function(c){c.preventDefault();c.stopPropagation();a.opened=!0};a.dateOptions={formatYear:"yyyy","show-weeks":"false",startingDay:1};a.format="dd-MM-yyyy";a.send=function(c){a.view.event.registrationOpenDate=a.changeDate(a.view.registrationOpenDate);a.view.event.registrationCloseDate=a.changeDate(a.view.registrationCloseDate);
d.id?b.postUri("/api/event/"+d.id,a.view.event,function(){k.path("/home")},void 0,"PUT"):b.postUri("/api/event",a.view.event,function(){k.path("/home")})};a.ctr=function(){d.id?b.getUri("/api/event/{eventId}",function(c){a.view.event.name=c.name;a.view.event.normas=c.rules;a.view.event.description=c.description;a.view.event.registrationOpenDate=c.openInscriptionDate;a.view.registrationOpenDate=moment(c.openInscriptionDate,"DD-MM-YYYY/HH:mm:ss").toDate();a.view.registrationCloseDate=moment(c.closeInscriptionDate,
"DD-MM-YYYY/HH:mm:ss").toDate();a.update()}):a.update()};a.ctr()};b.$inject="$scope $rootScope $routeParams $http $cookieStore $log $location".split(" ");angular.module("FICOnWeb").controller("editeventCtrl",b)})();(function(){var b=function(a,b,d,f,c,g,k){a.view={};a.view.news={};a.view.news.image="";a.view.news.title="";a.view.news.date="";a.view.news.content="";a.view.date=new Date;a.view.publishNow=!0;a.changeDate=function(a){return moment(a).format("DD-MM-YYYY/HH:mm:ss")};a.update=function(){a.view.date||(a.view.date=new Date)};a.open=function(c){c.preventDefault();c.stopPropagation();a.opened=!0};a.dateOptions={formatYear:"yyyy","show-weeks":"false",startingDay:1};a.format="dd-MM-yyyy";a.publish=function(c){c.date=
a.view.publishNow?null:a.changeDate(a.view.date);f.get("FICOnCookie")?d({url:b.config.apiUrl+"/api/event/news/"+b.config.eventId,method:"POST",data:{title:c.title,imageurl:c.image,content:c.content,priorityHours:0,publishDate:c.date},headers:{sessionId:f.get("FICOnCookie").sessionId}}).success(function(a,c,b,e){g.path("/home")}).error(function(a,c,b,g){console.log("noticia  no creada")}):console.log("error")};a.ctr=function(){k.id&&(b.getUri("/api/news/"+k.id,function(c){a.view.news=c;a.view.image=
c.imageurl;a.view.date=moment(c.publishDate,"DD-MM-YYYY/HH:mm:ss").toDate()}),a.view.publishNow=!1);a.update()};a.ctr()};b.$inject="$scope $rootScope $http $cookieStore $log $location $routeParams".split(" ");angular.module("FICOnWeb").controller("editorNewsCtrl",b)})();(function(){var b=function(a,b,d,f,c,g){a.view={};a.currentPage=1;a.pagination=10;a.news={};a.isNext=function(){return a.currentPage*a.pagination<a.size};a.getPrev=function(){a.currentPage=parseInt(a.currentPage)-1;g.url("home?page="+a.currentPage)};a.getNext=function(){a.currentPage=parseInt(a.currentPage)+1;g.url("home?page="+a.currentPage)};a.getNews=function(){b.getUri("/api/event/{eventId}/news/published/"+a.currentPage+"/"+a.pagination,function(c){a.news=c})};a.getSponsors=function(){b.event&&
b.event.sponsors?a.sponsors=b.event.sponsors:b.getUri("/api/event/{eventId}/sponsors",function(c,b,g,e){a.sponsors=c})};a.ctr=function(){c.page&&(a.currentPage=c.page);a.getNews();b.getEventData(a)};a.ctr()};b.$inject="$scope $rootScope $http $cookieStore $routeParams $location".split(" ");angular.module("FICOnWeb").controller("homeCtrl",b)})();(function(){var b=function(a,b,d,f,c){a.view={};a.view.user="";a.view.password="";a.view.email="";a.view.sendRecover=!1;a.errors={};a.errors.login=!1;a.errors.loginCode="";a.errors.forgot=!1;a.errors.forgotCode="";a.loading={};a.loading.forgotten=!1;a.sendForgotten=function(c){a.view.sendRecover=!1;a.errors.forgot=!1;a.errors.forgotCode="";a.loading.forgotten=!0;b.postUri("/api/user/passwordrecover",{contenido:c},function(c,b,g,e){a.loading.forgotten=!1;"true"==c?a.view.sendRecover=!0:"false"==c&&
(a.errors.forgot=!0,a.errors.forgotCode="98")},function(c,b){a.loading.forgotten=!1;a.errors.forgot=!0;a.errors.forgotCode=c.exceptionCode})};a.login=function(g,k){a.errors.login=!1;a.errors.loginCode="";b.postUri("/api/login",{login:g,password:k},function(a,b,g,e){f.put("FICOnCookie",a);a.secondpass?c.path("/profile"):c.path("/home")},function(c,b,g,e){a.errors.login=!0;a.errors.loginCode=c.exceptionCode})};a.ctr=function(){};a.ctr()};b.$inject=["$scope","$rootScope","$http","$cookieStore","$location"];
angular.module("FICOnWeb").controller("loginCtrl",b)})();(function(){var b=function(a,b,d,f,c,g){a.data={};a.data.tournaments=[];a.data.productions=[];a.data.conferences=[];a.logout=function(){d.get("FICOnCookie")?b({url:f.config.apiUrl+"/api/session",method:"DELETE",headers:{sessionId:d.get("FICOnCookie").sessionId}}).success(function(a,b,e,f){d.remove("FICOnCookie");g.path("/");c.location.reload()}).error(function(a,b,e,f){d.remove("FICOnCookie");g.path("/");c.location.reload()}):f.createSession()};a.ctr=function(){f.getEventData(a)};a.checkRole=function(c){return-1!=
a.vars.roles.indexOf(c)};a.showAdmin=function(){return a.checkRole("Admin")||a.checkRole("ActivityController")||a.checkRole("EventController")||a.checkRole("NewsController")||a.checkRole("SponsorController")||a.checkRole("RegistrationController")};a.ctr()};b.$inject="$scope $http $cookieStore $rootScope $window $location".split(" ");angular.module("FICOnWeb").controller("menuCtrl",b)})();(function(){var b=function(a,b,d,f,c){a.view={};a.view.passChanged=!1;a.view.dataChanged=!1;a.view.oldPass="";a.view.newPass="";a.view.newPass2="";a.view.dob="";a.data={};a.data.user={};a.errors={};a.errors.recoverPass=!1;a.errors.recoverPassCode="";a.errors.changeData=!1;a.errors.changeDataCode="";a.changeDate=function(a){return moment(a,"DD-MM-YYYY/HH:mm:ss").format("DD-MM-YYYY")};a.deleteUser=function(){d.get("FICOnCookie")?f({url:b.config.apiUrl+"/api/user/"+d.get("FICOnCookie").userId,method:"DELETE",
headers:{sessionId:d.get("FICOnCookie").sessionId}}).success(function(a,b,e,d){$("#modalDelete").modal("toggle");c.path("home")}).error(function(a,c,b,e){console.log("error delete")}):console.log("error")};a.getCurrentUser=function(){b.getIsLogged()?b.getUri("/api/session/currentUser",function(c,b){a.data.user=c;a.view.dob=a.changeDate(a.data.user.dob)},function(a,b){c.path("home")}):c.path("home")};a.changeData=function(){a.errors.changeData=!1;a.view.dataChanged=!1;a.errors.changeDataCode="";d.get("FICOnCookie")?
f({url:b.config.apiUrl+"/api/user/"+d.get("FICOnCookie").userId,method:"PUT",data:a.data.user,headers:{sessionId:d.get("FICOnCookie").sessionId}}).success(function(c,b,e,d){a.view.dataChanged=!0}).error(function(c,b,e,d){a.errors.changeData=!0;a.errors.changeDataCode=c.exceptionCode}):b.createSession()};a.changePassword=function(c,k){a.errors.recoverPass=!1;a.view.passChanged=!1;a.errors.recoverPassCode="";d.get("FICOnCookie")?f({url:b.config.apiUrl+"/api/user/changePassword/"+d.get("FICOnCookie").userId,
method:"POST",data:{oldPassword:c,newPassword:k},headers:{sessionId:d.get("FICOnCookie").sessionId}}).success(function(c,b,g,e){a.view.passChanged=!0;a.view.oldPass="";a.view.newPass="";a.view.newPass2=""}).error(function(c,b,g,e){a.errors.recoverPass=!0;a.errors.recoverPassCode=c.exceptionCode}):b.createSession()};$(function(){$('[data-toggle="tooltip"]').tooltip()});a.ctr=function(){b.pageRequiresLogin();a.getCurrentUser()};a.ctr()};b.$inject=["$scope","$rootScope","$cookieStore","$http","$location"];
angular.module("FICOnWeb").controller("profileCtrl",b)})();(function(){var b=function(a,b,d,f,c){a.view={};a.view.selectDNI="1";a.view.login="";a.view.pass="";a.view.pass2="";a.view.email="";a.view.name="";a.view.dni="";a.view.phone="";a.view.shirtSize="";a.view.dob="";a.view.registerSend=!1;a.errors={};a.errors.register=!1;a.errors.registerCode="";a.open=function(c){c.preventDefault();c.stopPropagation();a.opened=!0};a.dateOptions={formatYear:"yyyy","show-weeks":"false",startingDay:1};a.format="dd-MM-yyyy";a.validateDni=function(a){if(void 0!==a){var c;
a=a.toUpperCase();return!0===/^[XYZ]?\d{5,8}[A-Z]$/.test(a)?(c=a.substr(0,a.length-1),c=c.replace("X",0),c=c.replace("Y",1),c=c.replace("Z",2),a=a.substr(a.length-1,1),c%=23,c="TRWAGMYFPDXBNJZSQVHLCKET".substring(c,c+1),c!=a?!1:!0):!1}};a.register=function(b,e,d,l,m,n,p,q,r){a.view.registerSend=!1;a.errors.register=!1;a.errors.registerCode="";f.postUri("/api/user",{name:m,login:b,password:e,dni:n,email:l,phoneNumber:p,shirtSize:q,dob:c("date")(a.view.dob,"dd-MM-yyyy/12:00:00")},function(c,b,e,g){a.view.registerSend=
!0},function(c,b,e,g){a.errors.register=!0;a.errors.registerCode=c.exceptionCode;a.view.duplicateField=c.field;f.createSession()})};a.ctr=function(){};a.ctr()};b.$inject=["$scope","$cookieStore","$http","$rootScope","$filter"];angular.module("FICOnWeb").controller("registerCtrl",b)})();(function(){var b=function(a,b,d,f){a.view={};a.data={};a.evento=b.config.eventId;a.currentPage=1;a.pagination=5;a.size=0;a.orderBy="login";a.desc=0;a.changeFilter=function(c){a.orderBy==c?a.desc=1==a.desc?0:1:(a.desc=1,a.orderBy=c);a.getUsers()};a.changeDate=function(a){return moment(a,"DD-MM-YYYY/HH:mm:ss").format("DD-MM-YYYY - HH:mm:ss")};a.isNext=function(){return a.currentPage*a.pagination<a.size&&0<a.pagination};a.getPrev=function(){--a.currentPage;a.getUsers()};a.getNext=function(){a.currentPage+=
1;a.getUsers()};a.getPages=function(c){a.pagination=c;a.currentPage=1;a.getUsers()};a.getSize=function(){d.get("FICOnCookie")?f({url:b.config.apiUrl+"/api/event/registrations/size/"+b.config.eventId+"/all",method:"GET",headers:{sessionId:d.get("FICOnCookie").sessionId}}).success(function(c,b,e,d){a.data=c}).error(function(a,b,e,d){console.log("error get")}):console.log("error")};a.setPaid=function(c){d.get("FICOnCookie")?f({url:b.config.apiUrl+"/api/registration/setPaid/"+b.config.eventId+"/"+c,method:"PUT",
headers:{sessionId:d.get("FICOnCookie").sessionId}}).success(function(c,b,e,d){a.ctr()}).error(function(a,c,b,e){console.log("Error setPaid() "+c+": "+a)}):console.log("error")};a.classLabel=function(a){if("paid"==a)return"label-success";if("registered"==a)return"label-warning";if("inQueue"==a)return"label-danger"};a.removeRegister=function(c){d.get("FICOnCookie")?f({url:b.config.apiUrl+"/api/registration/"+b.config.eventId+"/"+c,method:"DELETE",headers:{sessionId:d.get("FICOnCookie").sessionId}}).success(function(c,
b,e,d){a.ctr();$("#modalDelete").modal("toggle")}).error(function(a,c,b,e){console.log("error get")}):console.log("error")};a.getUsers=function(){d.get("FICOnCookie")?f({url:b.config.apiUrl+"/api/event/registrations/"+b.config.eventId+"/query?page="+a.currentPage+"&pageTam="+a.pagination+"&orderBy="+a.orderBy+"&desc="+a.desc+"&state=all",method:"GET",headers:{sessionId:d.get("FICOnCookie").sessionId}}).success(function(c,b,e,d){a.data=c}).error(function(a,b,e,d){console.log("error get")}):console.log("error")};
a.ctr=function(){a.getSize();a.getUsers()};a.ctr()};b.$inject=["$scope","$rootScope","$cookieStore","$http"];angular.module("FICOnWeb").controller("registerEventCtrl",b)})();(function(){var b=function(a,b,d,f){a.data={};a.ctr=function(){b.getEventData(a)};a.ctr()};b.$inject=["$scope","$rootScope","$http","$cookieStore"];angular.module("FICOnWeb").controller("rulesCtrl",b)})();(function(){var b=function(a,b,d,f,c){a.data={};a.type="";a.getActivity=function(){b.getUri("/api/activity/"+c.id,function(c,b,d,e){a.data=c})};a.ctr=function(){"tournament"==c.type&&(a.type="Torneo");"production"==c.type&&(a.type="Producci\u00f3n");"conference"==c.type&&(a.type="Conferencia");a.getActivity()};a.ctr()};b.$inject=["$scope","$rootScope","$cookieStore","$http","$routeParams"];angular.module("FICOnWeb").controller("showActivityCtrl",b)})();(function(){var b=function(a,b,d,f,c,g){a.view={};a.view.sponsor={};a.view.sponsor.imageurl="";a.view.sponsor.name="";a.view.sponsor.url="";a.publish=function(a){b.postUri("/api/event/sponsor/{eventId}",{name:a.name,imageurl:a.imageurl,url:a.url},function(){g.path("/home")})};a.ctr=function(){};a.ctr()};b.$inject="$scope $rootScope $http $cookieStore $log $location".split(" ");angular.module("FICOnWeb").controller("sponsoraddCtrl",b)})();(function(){var b=function(a,b,d,f){a.view={};a.data={};a.view.name="";a.view.id="";a.currentPage=1;a.pagination=5;a.size=0;a.orderBy="sponsorId";a.desc=0;a.changeFilter=function(c){a.orderBy==c?a.desc=1==a.desc?0:1:(a.desc=1,a.orderBy=c);a.getSponsors()};a.isNext=function(){return a.currentPage*a.pagination<a.size&&0<a.pagination};a.getPrev=function(){--a.currentPage;a.getSponsors()};a.getNext=function(){a.currentPage+=1;a.getSponsors()};a.getPages=function(c){a.pagination=c;a.currentPage=1;a.getSponsors()};
a.getSize=function(){b.get("FICOnCookie")?d({url:f.config.apiUrl+"/api/sponsor/size/",method:"GET",headers:{sessionId:b.get("FICOnCookie").sessionId}}).success(function(c,b,d,e){a.size=c}).error(function(a,b,d,e){console.log("error get")}):console.log("error")};a.deleteSponsor=function(c){b.get("FICOnCookie")?d({url:f.config.apiUrl+"/api/sponsor/"+c,method:"DELETE",headers:{sessionId:b.get("FICOnCookie").sessionId}}).success(function(b,c,d,e){a.getSponsors();$("#modalDelete").modal("toggle")}).error(function(a,
b,c,d){console.log("error delete")}):console.log("error")};a.getSponsors=function(){b.get("FICOnCookie")?d({url:f.config.apiUrl+"/api/sponsor/query?page="+a.currentPage+"&pageTam="+a.pagination+"&orderBy="+a.orderBy+"&desc="+a.desc,method:"GET",headers:{sessionId:b.get("FICOnCookie").sessionId}}).success(function(b,d,e,f){a.data=b}).error(function(a,b,d,e){console.log("error get")}):console.log("error")};a.ctr=function(){a.getSponsors()};a.ctr()};b.$inject=["$scope","$cookieStore","$http","$rootScope"];
angular.module("FICOnWeb").controller("sponsorCtrl",b)})();(function(){var b=function(a,b,d,f){a.view={};a.data={};a.view.login="";a.view.id="";a.currentPage=1;a.pagination=50;a.size=0;a.orderBy="login";a.desc=0;a.changeFilter=function(b){a.orderBy==b?a.desc=1==a.desc?0:1:(a.desc=1,a.orderBy=b);a.getUsers()};a.changeDate=function(a){return moment(a,"DD-MM-YYYY/HH:mm:ss").format("DD-MM-YYYY")};a.isNext=function(){return a.currentPage*a.pagination<a.size&&0<a.pagination};a.getPrev=function(){--a.currentPage;a.getUsers()};a.getNext=function(){a.currentPage+=
1;a.getUsers()};a.getPages=function(b){a.pagination=b;a.currentPage=1;a.getUsers()};a.getSize=function(){d.get("FICOnCookie")?f({url:b.config.apiUrl+"/api/users/all/size/",method:"GET",headers:{sessionId:d.get("FICOnCookie").sessionId}}).success(function(b,d,e,f){a.size=b}).error(function(a,b,d,e){console.log("error get")}):console.log("error")};a.deleteUser=function(c){d.get("FICOnCookie")?f({url:b.config.apiUrl+"/api/user/"+c,method:"DELETE",headers:{sessionId:d.get("FICOnCookie").sessionId}}).success(function(b,
c,d,e){a.getUsers();$("#modalDelete").modal("toggle")}).error(function(a,b,c,d){console.log("error delete")}):console.log("error")};a.getUsers=function(){d.get("FICOnCookie")?f({url:b.config.apiUrl+"/api/users/all/query?page="+a.currentPage+"&pageTam="+a.pagination+"&orderBy="+a.orderBy+"&desc="+a.desc,method:"GET",headers:{sessionId:d.get("FICOnCookie").sessionId}}).success(function(b,d,e,f){a.data=b}).error(function(a,b,d,e){console.log("error get")}):console.log("error")};a.ctr=function(){a.getSize();
a.getUsers()};a.ctr()};b.$inject=["$scope","$rootScope","$cookieStore","$http"];angular.module("FICOnWeb").controller("usersCtrl",b)})();var FICOnWeb=angular.module("FICOnWeb",["ngRoute","ngCookies","ui.bootstrap","textAngular","slick"]);FICOnWeb.config(function(b){b.enabled(!1)});
FICOnWeb.config(function(b){b.when("/home",{controller:"homeCtrl",templateUrl:"assets/partials/home.html"}).when("/login",{controller:"loginCtrl",templateUrl:"assets/partials/login.html"}).when("/register",{controller:"registerCtrl",templateUrl:"assets/partials/register.html"}).when("/profile",{controller:"profileCtrl",templateUrl:"assets/partials/profile.html"}).when("/rules",{controller:"rulesCtrl",templateUrl:"assets/partials/rules.html"}).when("/admin/event/:id?",{controller:"editeventCtrl",templateUrl:"assets/partials/eventeditor.html"}).when("/activity/:type/:id",
{controller:"showActivityCtrl",templateUrl:"assets/partials/showActivity.html"}).when("/admin/news/add",{controller:"editorNewsCtrl",templateUrl:"assets/partials/newseditor.html"}).when("/admin/news/:id",{controller:"editorNewsCtrl",templateUrl:"assets/partials/newseditor.html"}).when("/admin/news",{controller:"adminNewsCtrl",templateUrl:"assets/partials/news.html"}).when("/admin/users",{controller:"usersCtrl",templateUrl:"assets/partials/users.html"}).when("/admin/sponsors/add",{controller:"sponsoraddCtrl",
templateUrl:"assets/partials/sponsoradd.html"}).when("/admin/sponsors/",{controller:"sponsorCtrl",templateUrl:"assets/partials/sponsor.html"}).when("/admin/activities/add",{controller:"activityaddCtrl",templateUrl:"assets/partials/activityadd.html"}).when("/admin/activities",{controller:"activityCtrl",templateUrl:"assets/partials/activity.html"}).when("/admin/registerEvent",{controller:"registerEventCtrl",templateUrl:"assets/partials/registerEvent.html"}).when("/admin/emails",{controller:"editorEmailTemplatesCtrl",
templateUrl:"assets/partials/emailTemplatesEditor.html"}).otherwise({redirectTo:"/home"})});
FICOnWeb.run(["$rootScope","$http","$cookieStore","$location","$window",function(b,a,e,d,f){b.vars={};b.vars.logged=!1;b.vars.userName="";b.vars.roles=[];b.showEvent={};b.event={};b.config=eventConfig||{};if(f=d.search().eventId)b.config.eventId=f,e.put("FICOnEventId",f);e.get("FICOnEventId")&&(b.config.eventId=e.get("FICOnEventId"));b.stateFilter=function(a){switch(a){case "paid":return"Confirmado";case "registered":return"Pendiente de pago";case "inQueue":return"En cola";default:return"error"}};
b.isNumber=function(a){return isNaN(a)?!1:!0};b.validatePassword=function(a,b){return""!=a&&""!=b?a==b?!0:!1:!1};b.redirectToLogin=function(){e.remove("FICOnCookie");d.path("/login")};b.pageRequiresLogin=function(){e.get("FICOnCookie")?b.getUri("/api/session/isvalid",function(a){"true"!=a&&b.redirectToLogin()},b.redirectToLogin):b.redirectToLogin()};b.createSession=function(){this.getUri("/api/session",function(a,b,d,f){e.put("FICOnCookie",a)})};b.checkRoles=function(a){a.forEach(function(a){b.vars.roles.push(a.roleName)})};
b.getIsLogged=function(){return e.get("FICOnCookie")&&0<e.get("FICOnCookie").userId};b.colorState=function(a){switch(a){case "paid":return"#2EFF00";case "registered":return"#FFCC00";case "inQueue":return"#FF0000";default:return"error"}};b.showButton=function(){e.get("FICOnCookie")?0<e.get("FICOnCookie").userId&&a({url:b.config.apiUrl+"/api/registration/state/"+b.config.eventId+"/"+e.get("FICOnCookie").userId,method:"GET",headers:{sessionId:e.get("FICOnCookie").sessionId}}).success(function(a,d,e,
f){b.showEvent=a}).error(function(a,b,d,e){console.log("error get")}):console.log("Error showButton, no cookie.")};b.registerOnEvent=function(){e.get("FICOnCookie")?a({url:b.config.apiUrl+"/api/registration/"+b.config.eventId+"/"+e.get("FICOnCookie").userId,method:"POST",headers:{sessionId:e.get("FICOnCookie").sessionId}}).success(function(a,d,e,f){b.showEvent=a}).error(function(a,b,d,e){14==a.exceptionCode&&$("#modalYoung").modal("toggle")}):console.log("Error registerOnEvent(), no cookie.")};b.$on("$routeChangeSuccess",
function(){function a(){e.remove("FICOnCookie");b.isLogged();b.showButton()}"undefined"!==typeof e.get("FICOnCookie")&&b.getUri("/api/session/isvalid",function(d){"true"!=d?a():(b.isLogged(),b.showButton())},a,!1)});b.isLogged=function(){e.get("FICOnCookie")&&0<e.get("FICOnCookie").userId?(b.vars.logged=!0,b.vars.userName=e.get("FICOnCookie").loginName,b.checkRoles(e.get("FICOnCookie").roles)):(b.vars.logged=!1,b.vars.userName="")};b.getSessionId=function(){return"undefined"===typeof e.get("FICOnCookie")?
null:e.get("FICOnCookie").sessionId};b.getEventData=function(a){this.getUri("/api/event/{eventId}",function(d){b.event=a.event=d})};b.getUri=function(c,d,f,h){"function"!==typeof f&&(f=function(a,b,d,f){console.log("Error rootScope.getUri("+c+") ["+b+"]: "+a);a.exceptionCode&&1==a.exceptionCode&&e.remove("FICOnCookie")});"undefined"===typeof h&&(h=!0);c=b.config.apiUrl+c.replace("{eventId}",b.config.eventId);a({url:c,method:"GET",cache:h,headers:{sessionId:b.getSessionId()}}).success(d).error(f)};
b.postUri=function(c,d,f,h,l){"undefined"===typeof l&&(l="POST");"undefined"===typeof h&&(h=function(a,b){console.log("Error rootScope.postUri("+c+") "+l+" ["+b+"]: "+a);a.exceptionCode&&1==a.exceptionCode&&e.remove("FICOnCookie")});c=b.config.apiUrl+c.replace("{eventId}",b.config.eventId);a({url:c,method:l,data:d,headers:{sessionId:b.getSessionId()}}).success(f).error(h)}}]);